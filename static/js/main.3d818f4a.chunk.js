(this.webpackJsonpspace2=this.webpackJsonpspace2||[]).push([[0],{43:function(e,t,s){},44:function(e,t,s){},70:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),a=s(16),r=s.n(a),i=(s(43),s(13)),d=s(4),o=(s(44),s(7)),l=s(18),j=s(35),b=s.n(j),u=s(36),O=s(3),m="TOGGLE_RESERVATION",h="FETCH_ROCKETS",x={rockets:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(O.a)(Object(O.a)({},e),{},{rockets:t.payload});case m:return Object(O.a)(Object(O.a)({},e),{},{rockets:e.rockets.map((function(e){return e.id===t.payload?Object(O.a)(Object(O.a)({},e),{},{added:!e.added}):e}))});default:return e}},f=s(38),v="ADD_MISSION",g="REMOVE_MISSION",N="UPDATE_MISSION",k="FETCH_MISSIONS_REQUEST",y="FETCH_MISSIONS_SUCCESS",E="FETCH_MISSIONS_FAILURE",S={missions:[],loading:!1,error:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(O.a)(Object(O.a)({},e),{},{missions:[t.payload].concat(Object(f.a)(e.missions))});case g:return Object(O.a)(Object(O.a)({},e),{},{missions:e.missions.filter((function(e){return e.id!==t.payload}))});case N:return Object(O.a)(Object(O.a)({},e),{},{missions:e.missions.map((function(e){return e.id===t.payload.id?t.payload:e}))});case k:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case y:return Object(O.a)(Object(O.a)({},e),{},{missions:t.payload,loading:!1});case E:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});default:return e}},I=Object(l.b)({rockets:p,missions:M}),C=Object(l.c)(I,Object(l.a)(b.a,u.a)),T=s(1),_=function(){return Object(T.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-white fixed-top border-bottom shadow",children:Object(T.jsxs)("div",{className:"container-fluid ms-5",children:[Object(T.jsx)(i.b,{className:"navbar-brand h1",to:"/",children:Object(T.jsxs)("h3",{className:"fw-bold mt-1",children:[Object(T.jsx)("img",{className:"me-2",src:"SpaceLogo.png",alt:"Girl in a jacket",width:"40",height:"40"}),"Space Travelers' Hub"]})}),Object(T.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(T.jsx)("span",{className:"navbar-toggler-icon"})}),Object(T.jsx)("div",{className:"collapse navbar-collapse mb-2 me-auto",id:"navbarNavAltMarkup",children:Object(T.jsx)("ul",{className:"navbar-nav ms-auto text-light me-3",children:[{id:1,path:"/",text:"Profile"},{id:2,path:"/rockets",text:"Rockets"},{id:3,path:"/missions",text:"Missions"}].map((function(e){return Object(T.jsx)("li",{className:"nav-link me-3",children:Object(T.jsx)(i.b,{to:e.path,activeClassName:"active-link",exact:!0,children:e.text})},e.id)}))})})]})})},R=Object(o.b)((function(e){return{missionData:e.missions}}))((function(e){var t=e.missionData;return 0===t.missions.length?Object(T.jsx)("div",{children:"No Missions loaded yet..."}):Object(T.jsx)("div",{children:Object(T.jsx)("table",{className:"border col-12",children:t&&t.missions&&t.missions.filter((function(e){return!0===e.reserved})).map((function(e){return Object(T.jsx)("tr",{className:"border",children:Object(T.jsx)("td",{className:"align-middle",children:Object(T.jsx)("p",{className:"mt-3 ms-2",children:e.name})})},e.id)}))})})})),w=function(){var e=Object(o.d)((function(e){return e.rockets.rockets})).filter((function(e){return!0===e.added}));return Object(T.jsx)("div",{children:Object(T.jsx)("table",{className:"border col-12",children:e.length>0&&e.map((function(e){return Object(T.jsx)("tr",{className:"border",children:Object(T.jsx)("td",{className:"align-middle",children:Object(T.jsx)("p",{className:"mt-3 ms-2",children:e.name})})},e.id)}))})})},A=function(){var e=Object(T.jsx)("h1",{children:"Profile Page"});return Object(T.jsxs)("div",{children:[e,Object(T.jsxs)("div",{className:"d-flex flex-row col-12",children:[Object(T.jsxs)("div",{className:"col-6 p-3",children:[Object(T.jsx)("h2",{children:"My Missions"}),Object(T.jsx)(R,{})]}),Object(T.jsxs)("div",{className:"col-6 p-3",children:[Object(T.jsx)("h2",{children:"My Rockets"}),Object(T.jsx)(w,{})]})]})]})},F=s(23),D=s.n(F),L=s(37),P=s(17),H=s.n(P),U=function(e){var t=e.id,s=e.name,c=e.description,n=e.image,a=e.added,r=Object(o.c)(),i=a?"CANCEL RESERVATION":"RESERVE ROCKET",d=a?"btn btn-secondary btn-cancel":"btn btn-primary btn-reserve";return Object(T.jsxs)("div",{className:" d-flex flex-row mb-5","data-testid":"rocket-item-group",children:[Object(T.jsx)("div",{className:"col-2 p",children:Object(T.jsx)("img",{alt:"just a rocket",src:n,className:"rocket-img px-2"})}),Object(T.jsxs)("div",{className:"d-flex flex-column col-10 px-2",children:[Object(T.jsx)("h3",{children:s}),Object(T.jsxs)("p",{children:[a&&Object(T.jsx)("span",{className:"badge bg-info",children:"Reserved"}),Object(T.jsx)("span",{children:c})]}),Object(T.jsx)("button",{id:t,onClick:function(e){var t;e.preventDefault(),r((t=e.target.id,{type:m,payload:t}))},type:"submit",className:d,children:i})]})]})};U.defaultProps={added:!1};var V=U,B=function(){var e=Object(o.d)((function(e){return e.rockets.rockets})),t=Object(o.c)();return Object(c.useEffect)((function(){0===e.length&&t(function(){var e=Object(L.a)(D.a.mark((function e(t){var s,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.get("https://api.spacexdata.com/v3/rockets");case 3:s=e.sent,c=s.data.map((function(e){return{id:e.rocket_id,name:e.rocket_name,description:e.description,flickrImages:e.flickr_images,added:!1}})),t({type:h,payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"FETCH_ROCKETS_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(T.jsx)("ul",{className:"p-5","data-testid":"rocket-list-test",children:e.map((function(e){return Object(T.jsx)("li",{children:Object(T.jsx)(V,{id:e.id,name:e.name,description:e.description,image:e.flickrImages[0],added:e.added})},e.id)}))})},G=function(){return Object(T.jsx)("div",{children:Object(T.jsx)(B,{})})},J=function(){return function(e){e({type:k}),H.a.get("https://api.spacexdata.com/v3/missions").then((function(t){var s=t.data.map((function(e){return{id:e.mission_id,name:e.mission_name,description:e.description,reserved:!1}}));e({type:y,payload:s})})).catch((function(t){return e(function(e){return{type:E,payload:e}}(t))}))}},K=Object(o.b)((function(e){return{missionData:e.missions}}),(function(e){return{fetchMissions:function(){return e(J())},updateMission:function(t){return e(function(e){return{type:N,payload:e}}(t))}}}))((function(e){var t=e.updateMission,s=e.fetchMissions,n=e.missionData;return Object(c.useEffect)((function(){0===n.missions.length&&s()}),[]),n.loading?Object(T.jsx)("div",{children:"Loading..."}):n.error?Object(T.jsxs)("div",{children:["Error!",n.error]}):Object(T.jsxs)("div",{children:[Object(T.jsx)("h1",{children:"Missions"}),Object(T.jsxs)("table",{className:"table table-striped",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{className:"border",children:[Object(T.jsx)("th",{className:"col-1 border",children:"Mission"}),Object(T.jsx)("th",{className:"col-8 border",children:"Description"}),Object(T.jsx)("th",{className:"col-1 border",children:"Status"}),Object(T.jsx)("th",{className:"col-2 border",children:" "})]})}),Object(T.jsx)("tbody",{children:n&&n.missions&&n.missions.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"border fw-bold",children:e.name}),Object(T.jsx)("td",{className:"border",children:e.description}),Object(T.jsx)("td",{className:"border align-middle",children:Object(T.jsx)("span",{className:e.reserved?"badge bg-info text-dark":"badge bg-secondary",children:e.reserved?"Active member":"NOT A member"})}),Object(T.jsx)("td",{className:"border align-middle",children:Object(T.jsx)("button",{className:e.reserved?"btn btn-outline-danger":"btn btn-outline-secondary",type:"button",onClick:function(){return t(Object(O.a)(Object(O.a)({},e),{},{reserved:!e.reserved}))},children:e.reserved?"Leave Mission":"Join Mission"})})]},e.id)}))})]})]})}));var Q=function(){return Object(T.jsx)(o.a,{store:C,children:Object(T.jsxs)(i.a,{children:[Object(T.jsx)(_,{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("div",{"data-testid":"navBar",children:Object(T.jsxs)(d.c,{children:[Object(T.jsx)(d.a,{exact:!0,path:"/",children:Object(T.jsx)(A,{})}),Object(T.jsx)(d.a,{path:"/rockets",children:Object(T.jsx)(G,{})}),Object(T.jsx)(d.a,{path:"/missions",children:Object(T.jsx)(K,{})})]})})]})})},q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,71)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))};r.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(Q,{})}),document.getElementById("root")),q()}},[[70,1,2]]]);
//# sourceMappingURL=main.3d818f4a.chunk.js.map